let e=[],t=!1,o="",n="",i=!1;function a(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}const d=e=>""===e,l=t=>e.includes(t);function m(t){const o=a(t.replace(/\s+/g," ").trim());d(o)?alert("Digite o nome do amigo!"):/^[a-zA-Zà-úÀ-Ú ]+$/u.test(o)?l(o)?alert(`Amigo ${o} já adicionado!`):e.push(o):alert(`Nome ${o} inválido! O nome deve conter apenas letras!`)}function adicionarAmigo(){document.getElementById("amigo").value.split(",").forEach((e=>m(e))),document.getElementById("resultado").innerHTML="",r(),s("amigo")}function sortearAmigo(){if(t)return alert("Sorteio já realizado, adicione novos amigos para sortear novamente!"),void ocultarResultado();if(0===e.length)return void alert("Adicione amigos para sortear!");o&&(e=e.filter((e=>e!==o)),o=""),document.getElementById("adicionar-amigo").disabled=!0,n=e[Math.floor(Math.random()*e.length)],1==e.length?t=!0:o=n;let i=!!t;s("amigo","listaAmigos"),u("resultado",n),c("hiden-elements","remove","hidden"),document.getElementById("auto-sorteio").disabled=i}function resortearAmigo(){let t=n;for(;n==t;)n=e[Math.floor(Math.random()*e.length)];s("amigo","listaAmigos"),u("resultado",n),document.getElementById("auto-sorteio").disabled=!0,o=n}function r(){u("listaAmigos",e.map((e=>`<li>${e}</li>`)).join(""))}function reiniciarAmigoSecreto(){document.getElementById("adicionar-amigo").disabled=!1,s("amigo","resultado","listaAmigos"),c(elemento="hiden-elements","add","hidden"),e=[],t=!1,n="",o=""}function ocultarResultado(){document.getElementById("auto-sorteio").disabled=!0,c("hiden-elements","add","hidden"),t?(u("resultado",""),reiniciarAmigoSecreto()):u("resultado","Continue sorteando!")}function s(...e){e.forEach((e=>{u(e,""),document.getElementById(e).value=""}))}function u(e,t){document.getElementById(e).innerHTML=t}function c(e,t,o){document.getElementById(e).classList[t](o)}