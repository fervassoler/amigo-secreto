let e=[],t=!1,o="",n="",i=!1;function a(e){return e.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" ")}const d=e=>""===e,l=t=>e.includes(t);function m(t){const o=a(t.replace(/\s+/g," ").trim());d(o)?alert("Digite o nome do amigo!"):/^[a-zA-Zà-úÀ-Ú ]+$/u.test(o)?l(o)?alert(`Amigo ${o} já adicionado!`):e.push(o):alert(`Nome ${o} inválido! O nome deve conter apenas letras!`)}function r(){document.getElementById("amigo").value.split(",").forEach((e=>m(e))),document.getElementById("resultado").innerHTML="",c(),h("amigo")}function s(){if(t)return alert("Sorteio já realizado, adicione novos amigos para sortear novamente!"),void f();if(0===e.length)return void alert("Adicione amigos para sortear!");o&&(e=e.filter((e=>e!==o)),o=""),document.getElementById("adicionar-amigo").disabled=!0,n=e[Math.floor(Math.random()*e.length)],1==e.length?t=!0:o=n;let i=!!t;h("amigo","listaAmigos"),E("resultado",n),p("hiden-elements","remove","hidden"),document.getElementById("auto-sorteio").disabled=i}function u(){let t=n;for(;n==t;)n=e[Math.floor(Math.random()*e.length)];h("amigo","listaAmigos"),E("resultado",n),document.getElementById("auto-sorteio").disabled=!0,o=n}function c(){E("listaAmigos",e.map((e=>`<li>${e}</li>`)).join(""))}function g(){document.getElementById("adicionar-amigo").disabled=!1,h("amigo","resultado","listaAmigos"),p(elemento="hiden-elements","add","hidden"),e=[],t=!1,n="",o=""}function f(){document.getElementById("auto-sorteio").disabled=!0,p("hiden-elements","add","hidden"),t?(E("resultado",""),g()):E("resultado","Continue sorteando!")}function h(...e){e.forEach((e=>{E(e,""),document.getElementById(e).value=""}))}function E(e,t){document.getElementById(e).innerHTML=t}function p(e,t,o){document.getElementById(e).classList[t](o)}